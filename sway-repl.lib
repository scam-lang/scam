var e = nil;
var result = nil;
print("Welcome to the Sway Interpreter!");
println(" To exit, enter q; or quit;");
e = catch(readExpr());
while (e != 'quit && e != 'q)
    {
    if (error?(e))
        {
        println("EXCEPTION: ",get('code,e),",",
            suffix(get('value,e),1 + stringUntil(get('value,e),":")));
        }
    else
        {
        result = catch(eval(e,this));
        if (error?(result))
            {
            println("EXCEPTION: ",get('code,result),",",
                suffix(get('value,result),1 + stringUntil(get('value,result),":")));
            }
        else
            { 
            println(result);
            }
        }
    if (eof?())
        {
        e = 'quit;
        }
    else
        {
        e = catch(readExpr());
        }
    }
if (error?(e),println());
println("Happy happy, joy joy!");
